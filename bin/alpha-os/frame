#!/usr/bin/env python3
import typer
from datetime import date
import os

app = typer.Typer(help="Alpha OS – FRAME MAP: Ehrliche Standortbestimmung in allen vier Domänen.")

DOMAINS = ["Body", "Being", "Balance", "Business"]
QUESTIONS = [
    "Wo stehst du gerade in diesem Bereich?",
    "Wie bist du hierher gekommen?",
    "Wie fühlst du dich gerade?",
    "Was funktioniert in diesem Bereich?",
    "Was funktioniert NICHT in diesem Bereich?"
]

def write_to_markdown(results, filename):
    with open(filename, "w") as f:
        f.write(f"# FRAME MAP – {date.today()}\n\n")
        for domain, answers in results.items():
            f.write(f"## {domain}\n")
            for q, a in zip(QUESTIONS, answers):
                f.write(f"**{q}**\n{a}\n\n")
    print(f"\nErgebnis gespeichert in {filename}")

@app.command()
def frame():
    typer.echo("FRAME MAP – Standortbestimmung für alle Core-Bereiche.")
    results = {}
    for domain in DOMAINS:
        typer.echo(f"\n=== {domain.upper()} ===")
        answers = []
        for q in QUESTIONS:
            a = typer.prompt(q)
            answers.append(a)
        results[domain] = answers

    # Speichern in Markdown (Obsidian-ready)
    folder = os.path.expanduser("~/AlphaOs-Vault/GAME/Frame")
    os.makedirs(folder, exist_ok=True)
    filename = os.path.join(folder, f"frame_{date.today()}.md")
    write_to_markdown(results, filename)
    typer.echo("\nFrame Map abgeschlossen! Review & Reflektion empfohlen.")

if __name__ == "__main__":
    app()
